webpackJsonp([6],{0:function(e,r,a){e.exports=a(67)},5:function(e,r,a){mm=a(1);var t={getInventory:function(e,r){mm.request({url:mm.getServerUrl("/order/get_order_cart_product.do"),method:"POST",success:e,error:r})},createOrder:function(e,r,a){mm.request({url:mm.getServerUrl("/order/create.do"),data:e,success:r,error:a})},getProductList:function(e,r,a){mm.request({url:mm.getServerUrl("/order/list.do"),data:e,success:r,error:a})},getOrderDetail:function(e,r,a){mm.request({url:mm.getServerUrl("/order/detail.do"),data:{orderNo:e},success:r,error:a})},orderCancal:function(e,r,a){mm.request({url:mm.getServerUrl("/order/cancel.do"),data:{orderNo:e},success:r,error:a})}};e.exports=t},26:function(e,r){},48:function(e,r){e.exports='<div class=panel> <div class=title> 订单信息 </div> <div class=order-info> <div class=info-item> <span class="order-number text">订单号:{{orderNo}}</span> <span class="order-time text">订单创建时间:{{createTime}}</span> </div> <div class=info-item> <span class="order-receiverInfo text">收件人: {{receiverName}} {{shippingVo.receiverProvince}} {{shippingVo.receiverCity}} {{shippingVo.receiverAddress}} </span> </div> <div class=info-item> <span class="order-status text">订单状态:{{statusDesc}}</span> </div> <div class=info-item> <span class="order-paymentType text">支付方式:{{paymentTypeDesc}}</span> </div> {{^alreadyPay}} <a class=btn href="./pay.html?orderNo={{orderNo}}">去支付</a> {{/alreadyPay}} {{^alreadyPay}} <div class="btn order-cancal">取消订单</div> {{/alreadyPay}} </div> </div> <div class=panel> <div class=title> 商品清单 </div> <div class=listHead> <span>商品信息</span> <span>单价</span> <span>数量</span> <span>合计</span> </div> {{#orderItemVoList}} <div class=order-cell> <span class=cell-img> <a href="./detail.html?productId={{productId}}"> <img src={{imageHost}}{{productImage}} alt=""> </a> </span> <span class=cell-info> <a href="./detail.html?productId={{productId}}" class=link><span>{{productName}}</span></a> </span> <span class=cell-price><span>￥{{currentUnitPrice}}</span></span> <span class=cell-number><span>{{quantity}}</span></span> <span class=cell-total><span>￥{{totalPrice}}</span></span> </div> {{/orderItemVoList}} </div>'},67:function(e,r,a){a(26);var t=a(2),s=a(1),n=a(5),o=a(48),i={data:{orderNo:s.getUrlParam("orderNo")},init:function(){this.onload(),this.bindEvent()},onload:function(){t.init({name:"order-list"}),this.loadOrderDetail()},bindEvent:function(){var e=this;$(document).on("click",".order-cancal",function(){window.confirm("您真的要取消订单吗")&&n.orderCancal(e.data.orderNo,function(r){alert("订单已经取消了"),e.loadOrderDetail()},function(e){s.errorHint(e)})})},loadOrderDetail:function(){var e="",r=this;n.getOrderDetail(r.data.orderNo,function(a){r.filter(a.data),console.log(a.data),e=s.renderHtml(o,a.data),$(".content").html(e)},function(e){s.errorHint(e)})},filter:function(e){"未支付"===e.statusDesc?e.alreadyPay=!1:e.alreadyPay=!0}};$(function(){i.init()})}});