webpackJsonp([4],{0:function(a,e,t){a.exports=t(64)},6:function(a,e){},7:function(a,e){a.exports=' {{#prePage}} <div class=paging-item data-value={{prePage}}>上一页</div> {{/prePage}} {{^prePage}} <div class="paging-item disabled">上一页</div> {{/prePage}} <div class=paging-item data-value=1>首页</div> {{#list}} {{#active}} <div class="paging-item active" data-value={{value}}>{{value}}</div> {{/active}} {{^active}} <div class=paging-item data-value={{value}}>{{value}}</div> {{/active}}{{/list}} {{#nextPage}} <div class=paging-item data-value={{nextPage}}>下一页</div> {{/nextPage}} {{^nextPage}} <div class="paging-item disabled">下一页</div> {{/nextPage}} <div class=paging-item data-value={{pages}}>最后一页</div> <span class=text>&nbsp;&nbsp;第{{pageNum}}/{{pages}}页</span>'},11:function(a,e,t){mm=t(1);var s={getProductList:function(a,e,t){mm.request({url:mm.getServerUrl("/product/list.do"),data:a,success:e,error:t})},getDetailInfo:function(a,e,t){mm.request({url:mm.getServerUrl("/product/detail.do"),data:a,success:e,error:t})}};a.exports=s},12:function(a,e,t){t(6);var s=t(7),i=t(1);paging=function(a){if(!(a.pages<=1)){this.pageRange=3,a.list=[];for(var e=a.pageNum-this.pageRange;e<=a.pageNum+this.pageRange;e++)e<=0||e>a.pages||(a.pageNum===e?a.list.push({value:e,active:!0}):a.list.push({value:e}));var t=i.renderHtml(s,a);$(".paging").html(t),$(".paging-item").click(function(e){var t=$(this);t.hasClass("disabled")||t.hasClass("active")?retrun:a.onselect(t.data("value"))})}},a.exports=paging},24:function(a,e){},44:function(a,e){a.exports='{{#list}} <div class=product> <a class=link href="./detail.html?productId={{id}}" target=_blank> <img src={{imageHost}}{{mainImage}} alt=产品> <div class=price>￥{{price}}</div> <span class=productName>{{name}}</span> </a> </div> {{/list}} {{^list}} <div class=err-tips>对不起没有找到您要的商品</div> {{/list}}'},64:function(a,e,t){t(24);var s=(t(2),t(1)),i=t(11),r=t(44),d=t(12);page={data:{listParam:{categoryId:s.getUrlParam("categoryId")||"",keyword:s.getUrlParam("keyword")||"",pageNum:s.getUrlParam("pageNum")||1,pageSize:s.getUrlParam("pageSize")||3,orderBy:s.getUrlParam("orderBy")||"default"}},init:function(){this.onLoad(),this.bindEvent()},onLoad:function(){this.loadList()},bindEvent:function(){var a=this;$(".sort-item").click(function(){a.sortEvent($(this))})},loadList:function(){var a=this;""===this.data.listParam.keyword?delete this.data.listParam.keyword:delete this.data.listParam.categoryId,i.getProductList(this.data.listParam,function(e){var t="";t=s.renderHtml(r,e.data),$(".list").html(t);var i={pageNum:e.data.pageNum,pages:e.data.pages,firstPage:e.data.firstPage,prePage:e.data.prePage,nextPage:e.data.nextPage,lastPage:e.data.lastPage,navigatepageNums:e.data.navigatepageNums,onselect:function(e){a.data.listParam.pageNum=e,a.loadList()}};a.loadPaging(i)},function(a){s.errorHint(a)})},sortEvent:function(a){var e=a;if(this.data.pageNum=1,"default"===e.data("type")){if(e.hasClass("active"))return;e.addClass("active").siblings(".sort-item").removeClass("active desc asc"),this.data.listParam.orderBy="default"}else"price"===e.data("type")&&(e.addClass("active").siblings(".sort-item").removeClass("active desc asc"),e.hasClass("asc")?e.hasClass("desc")||(e.addClass("desc").removeClass("asc"),this.data.listParam.orderBy="price_desc"):(e.addClass("asc").removeClass("desc"),this.data.listParam.orderBy="price_asc"));this.loadList(),console.log(this.data)},loadPaging:function(a){this.paging=new d(a)}},$(function(){page.init()})}});