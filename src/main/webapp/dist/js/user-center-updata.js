webpackJsonp([11],{0:function(n,t,e){n.exports=e(72)},31:function(n,t){},51:function(n,t){n.exports="<div class=title>个人中心</div> <div class=userInfoCon> <div class=userInfoItem> <span class=label>用户名：</span> <span class=text>{{username}}</span> </div> <div class=userInfoItem> <span class=label>手机号码：</span> <input type=text value={{phone}} id=phone> </div> <div class=userInfoItem> <span class=label>邮 箱：</span> <input type=text value={{email}} id=email> </div> <div class=userInfoItem> <span class=label>问题：</span> <input type=text value={{question}} id=question> </div> <div class=userInfoItem> <span class=label>答案：</span> <input type=text value={{answer}} id=answer> </div> </div> <div class=btn id=submit>保存</div>"},72:function(n,t,e){e(31);var s=e(2),a=e(1),i=e(4),o=e(51),l={init:function(){this.onload()},onload:function(){s.init({name:"user-center"}),this.loadUserInfo()},bindEvent:function(){var n=this;$("#submit").click(function(){n.updataUserInfo()})},loadUserInfo:function(){var n="",t=this;i.getUserInfo(function(e){console.log(e),n=a.renderHtml(o,e.data),$(".panel").html(n),t.bindEvent()},function(n){a.errorHint(n)})},updataUserInfo:function(){var n={email:$("#email").val(),phone:$("#phone").val(),question:$("#question").val(),answer:$("#answer").val()};this.validate(n).status?i.updataUserInfo(n,function(n){window.location.href="./user-center.html"},function(n){a.errorHint(n)}):a.errorHint("出现错误")},validate:function(n){var t={status:!1,msg:""};return a.validate(n.phone,"phone")?a.validate(n.email,"email")?a.validate(n.question,"notEmpty")?a.validate(n.answer,"notEmpty")?(t.status=!0,t):(alert(n.anwser),t.msg="不能为空",a.errorHint(t.msg),t):(alert(1),t.msg="不能为空",a.errorHint(t.msg),t):(t.msg="邮件格式不正确",a.errorHint(t.msg),t):(t.msg="手机号格式不正确",a.errorHint(t.msg),t)}};$(function(){l.init()})}});