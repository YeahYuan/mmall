webpackJsonp([7],{0:function(t,a,i){t.exports=i(62)},11:function(t,a,i){mm=i(1);var s={getProductList:function(t,a,i){mm.request({url:mm.getServerUrl("/product/list.do"),data:t,success:a,error:i})},getDetailInfo:function(t,a,i){mm.request({url:mm.getServerUrl("/product/detail.do"),data:t,success:a,error:i})}};t.exports=s},22:function(t,a){},42:function(t,a){t.exports=' <div class=intro-con> <div class="img-con item"> <div class=mainImg> <img class=m-img src={{imageHost}}{{mainImage}} alt={{name}}> </div> <div class=samllImgList> {{#subImages}} <img class=s-img src={{imageHost}}{{.}} alt={{name}}> {{/subImages}} </div> </div> <div class="other item"> <div class="name o-item">{{name}}</div> <div class="subtitle o-item">{{subtitle}}</div> <div class="price o-item">价格:￥{{price}}</div> <div class="inventory o-item">库存:{{stock}}</div> <div class="cart o-item"> <span class=text>数量：</span> <input id=count type=text value=1 readonly=readonly> <span class=calculate> <span class="add Cbtn">+</span> <span class="minus Cbtn">-</span> </span> {{^stock}} <div class="cart-btn btn">暂时无货</div> {{/stock}} {{#stock}} <div class="submit cart-btn btn">加入购物车</div> {{/stock}} </div> </div> </div> <div class=detail-con> <div class=tab-list> <div class="tab-item active">商品详情</div> </div> <div class=detail> {{{detail}}} </div> </div>'},62:function(t,a,i){i(22);var s=(i(2),i(1)),n=i(11),c=i(10),d=i(42),o={data:{productId:s.getUrlParam("productId")},init:function(){this.load(),this.bindEvent()},load:function(){_this=this,n.getDetailInfo({productId:_this.data.productId},function(t){_this.loadDetail(t.data),_this.data.data=t.data},function(t){alert(t)})},bindEvent:function(){var t=this;$(document).on("mouseenter",".s-img",function(){var t=$(this).attr("src");$(".m-img").attr("src",t)}),$(document).on("click",".Cbtn",function(){var a=$(this).hasClass("add")?"add":"minus",i=t.data.data.stock,s=$("#count").val();"add"===a?s<i&&(s++,$("#count").val(s)):"minus"===a&&s>1&&(s--,$("#count").val(s))}),$(document).on("click",".submit",function(){c.addToCart({productId:t.data.productId,count:$("#count").val()},function(t){window.location.href="./result.html?type=add-cart"},function(t){s.errorHint(t)})})},loadDetail:function(t){var a="";t.subImages=t.subImages.split(","),a=s.renderHtml(d,t),$(".page-wrap").html(a)}};$(function(){o.init()})}});